{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Code/biyesheji/bishe-front/pages/AIChat/AIChat.vue?006f","webpack:///D:/Code/biyesheji/bishe-front/pages/AIChat/AIChat.vue?ea5b","webpack:///D:/Code/biyesheji/bishe-front/pages/AIChat/AIChat.vue?ad66","webpack:///D:/Code/biyesheji/bishe-front/pages/AIChat/AIChat.vue?fd50","uni-app:///pages/AIChat/AIChat.vue","webpack:///D:/Code/biyesheji/bishe-front/pages/AIChat/AIChat.vue?8f1c","webpack:///D:/Code/biyesheji/bishe-front/pages/AIChat/AIChat.vue?f528"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","messages","newMessage","methods","sendMessage","text","sender","postData","uni","url","method","res","console","AI","scrollToBottom","scrollTop","duration"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACa;;;AAGlE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAgmB,CAAgB,0nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCiBpnB;EACAC;IACA;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBACA;kBAAAC;kBAAAC;gBAAA;gBAEAC;kBAAA;gBAAA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBAAA;gBAAA,OACAC;kBACAC;kBACAC;kBACAV;kBACA;kBACA;kBACA;kBACA;kBACA;gBACA;cAAA;gBATAW;gBAUAC;gBACAC,2BAGA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;kBAAAR;kBAAAC;gBAAA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACA;IACA;IAEA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAQ;MACAN;QACAO;QAAA;QACAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACxGA;AAAA;AAAA;AAAA;AAAk3B,CAAgB,m3BAAG,EAAC,C;;;;;;;;;;;ACAt4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/AIChat/AIChat.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/AIChat/AIChat.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./AIChat.vue?vue&type=template&id=5279cc74&\"\nvar renderjs\nimport script from \"./AIChat.vue?vue&type=script&lang=js&\"\nexport * from \"./AIChat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AIChat.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/AIChat/AIChat.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./AIChat.vue?vue&type=template&id=5279cc74&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./AIChat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./AIChat.vue?vue&type=script&lang=js&\"","<template>\n  <view>\n    <view class=\"container\">\n      <scroll-view class=\"message-container\" scroll-y ref=\"scrollView\">\n        <view v-for=\"(message, index) in messages\" :key=\"index\" class=\"message\" :class=\"{ 'received': message.sender === 'bot', 'sent': message.sender === 'user' }\">\n          {{ message.text }}\n        </view>\n      </scroll-view>\n      <view class=\"input-box-container\">\n        <input class=\"input-box\" type=\"text\" v-model=\"newMessage\" placeholder=\"输入消息...\" />\n        <button class=\"send-button\" @tap=\"sendMessage\">发送</button>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\n  export default {\n   data() {\r\n       return {\r\n         messages: [],\r\n         newMessage: ''\r\n       };\r\n     },\r\n     methods: {\r\n       async sendMessage() {\r\n         if (!this.newMessage.trim()) return;\r\n         this.messages.push({ text: this.newMessage, sender: 'user' });\r\n         \r\n         const postData={\"user_input\":this.newMessage}\r\n         this.newMessage = '';\r\n         // const res=await fetch({\r\n         //   url: 'http://localhost:5000/chat/',\r\n         //   method:'POST',\r\n         //   headers: {\r\n         //       'Content-Type': 'application/json'\r\n         //     },\r\n         //     body: JSON.stringify(postdata)\r\n         // })\r\n         const res=await uni.request({\r\n           url: 'http://localhost:5000/chat',\r\n           method: 'POST',\r\n           data: postData,\r\n           // success: (res) => {\r\n           //   console.log(res.data); // 输出返回的数据\r\n           //   // 在成功发送消息后，将 AI 的回复消息显示在界面上\r\n           //   this.messages.push({ text: res.data, sender: 'bot' });\r\n           //  }\r\n        })\r\n        console.log(res)\r\n          const AI=res[1].data.response\r\n         \r\n         \r\n         // 模拟 AI 回复消息\r\n         // setTimeout(() => {\r\n         //   this.messages.push({ text: AI, sender: 'bot' });\r\n         //   // 滚动到底部\r\n         //   this.$nextTick(() => {\r\n         //     this.$refs.scrollView && this.$refs.scrollView.scrollIntoView('.message:last-child');\r\n         //   });\r\n         // }, 500);\r\n           this.messages.push({ text: AI, sender: 'bot' });\r\n           // 滚动到底部\r\n           // this.$nextTick(() => {\r\n           //   this.$refs.scrollView && this.$refs.scrollView.scrollIntoView('.message:last-child');\r\n           // });\r\n           // 等待页面更新后滚动到底部\r\n             // setTimeout(() => {\r\n             //   this.scrollToBottom();\r\n             // }, 100);\r\n       },\r\n       // sendMessage() {\r\n       //   if (!this.newMessage.trim()) return;\r\n       //   this.messages.push({ text: this.newMessage, sender: 'user' });\r\n         \r\n       //   const postData = { \"user_input\": this.newMessage };\r\n       //   this.newMessage = '';\r\n         \r\n       //   uni.request({\r\n       //     url: 'http://localhost:5000/chat',\r\n       //     method: 'POST',\r\n       //     data: postData,\r\n       //     success: (res) => {\r\n       //       console.log(res);\r\n       //       const AI = res.data.response;\r\n       //       this.messages.push({ text: AI, sender: 'bot' });\r\n       \r\n       //       // 滚动到底部\r\n       //       setTimeout(() => {\r\n       //         this.scrollToBottom();\r\n       //       }, 100);\r\n       //     },\r\n       //     fail: (err) => {\r\n       //       console.error('Failed to send message:', err);\r\n       //     }\r\n       //   });\r\n       // },\r\n       scrollToBottom() {\r\n         uni.pageScrollTo({\r\n           scrollTop: 9999, // 滚动到一个足够大的值，确保页面能滚动到底部\r\n           duration: 300 // 滚动动画持续时间\r\n         });\r\n       }\r\n     }\n  }\n</script>\n\n<style>\n.container {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n}\n\n.message-container {\n  flex: 1;\n  padding: 10px;\n  margin-bottom: 60px;\n  overflow-y: scroll; /* 显示滚动条 */\n}\n\n.message {\n  margin-bottom: 10px;\n  padding: 8px;\n  border-radius: 10px;\n  max-width: 70%;\n}\n\n.sent {\n  align-self: flex-end;\n  background-color: #007bff;\n  color: white;\n}\n\n.received {\n  align-self: flex-start;\n  background-color: #f0f0f0;\n}\n\n.input-box-container {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 5px;\n  position: fixed; /* 固定在底部 */\n  bottom: 0;\n  width: 100%;\r\n  margin-bottom: 5px;\n}\n\n.input-box {\n  flex: 1; /* 占据剩余空间 */\n  height: 50px;\n  padding: 0 10px;\n  border-radius: 20px;\n  background-color: #ffffff;\n  border: 2px solid #007bff;\n  outline: none;\n}\n\n.send-button {\n  height: 50px;\r\n  margin-left: 5px;\r\n  margin-right: 7px;\n  padding: 5 10px;\n  border-radius: 20px;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  outline: none;\n}\n</style>\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./AIChat.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./AIChat.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1738913516717\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}